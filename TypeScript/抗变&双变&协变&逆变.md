# 抗变&双变&协变&逆变

## 结构化

TS 是结构性的类型系统，所谓结构化就是对值所具有的结构进行类型检查

```ts
  interface Named {
    name: string;
  }

  class Person {
    name: string;
  }

  let p: Named;

  // 兼容，因为是结构化类型
  p = new Person();
```

## 变型

变型都是发生在父子类型之间的

- 在类型系统中，属性更多的类型是子类型。
- 在集合论中，属性更少的集合是子集。

在联合类型中需要注意父子类型的关系，'a' | 'b' | 'c' 乍一看比 'a' | 'b' 的属性更多，但其实'a' | 'b' | 'c' 是 'a' | 'b' 的父类型，因为前者包含的范围更广，而后者则更具体

- 协变： 允许子类型转换为父类型
- 逆变： 允许父类型转换为子类型
