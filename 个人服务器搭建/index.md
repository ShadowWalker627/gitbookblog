#### 基于运营商网络的个人服务器搭建

![网络拓扑图](http://www.yoloworld.site:3000/blogpng/%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E5%9B%BE.png)

准备工作(按照顺序准备)：
* 运营商网络开通公网ip
* openwrt软路由
* 申请运营商光猫桥接
* 路由器防火墙端口转发
* J4125-GK55小主机搭建ESXI服务器
* 阿里云购买域名

##### 运营商网络
运营商网络开通公网ip和申请运营商光猫桥接，这是把家庭网络部署到公网访问的基础。
1. 开通了公网IP，才能在公网上访问到家庭网络环境，但是运营商给的公网IP不是固定的，当然也不是频繁变动，基本是每次拨号会变一次。
2. 光猫桥接是为了解放光猫，将拨号+路由功能交给openwrt软路由，也便于软路由的DDNS插件将变动的公网IP及时更新到阿里云的控制台；这样光猫就只需要解析光纤信号，接收运营商分配的IP。

注：上面这两步要看不同地区的运营商态度，反正上海电信很给力，处理的很快。就说家里有个人NAS要使用就好了。

##### openwrt软路由
这个我用的R2S，当然其他各种类型的软路由硬件都可以，Google教程很多

##### 路由器防火墙端口转发
像ssh这种不要使用默认端口，防止被黑，所以通过openwrt提供的防火墙端口转发服务

##### 阿里云购买域名
这个有很便宜的，我买的的10年，189RMB一个

##### 服务器物理机
这个我选了J4125-GK55小主机，这个也有很多文章做推荐，J4125好像暂时比较火